---
import { Image } from "astro:assets";
import about1 from "../../assets/about1.png";
import about2 from "../../assets/about2.png";
---

<section class="relative w-full h-screen overflow-hidden flex">
  <!-- Left Image Section -->
  <div class="w-[400px] sm:w-[500px] md:w-[600px] lg:w-[700px] xl:w-[800px] h-full flex-shrink-0">
    <Image
      src={about1}
      alt="About Us Left Image"
      loading="eager"
      class="w-full h-full object-cover"
    />
  </div>

  <!-- Middle Carousel Section -->
  <div class="flex-1 h-full relative">
    <!-- Carousel Container -->
    <div class="carousel-container relative w-full h-full">
      <!-- Slide 1: About Us -->
      <div class="carousel-slide active" data-slide="0">
        <div class="relative w-full h-full bg-[#351c24] flex items-center justify-center">
          <div class="text-white w-full px-4 xs:px-6 sm:px-8 md:px-12 lg:px-16 xl:px-20 flex flex-col justify-center min-h-full">
            <div class="w-full">
              <h1 class="font-[AcidGrotesk] font-light tracking-[0.01em] text-[32px] xs:text-[40px] sm:text-[60px] md:text-[80px] lg:text-[100px] xl:text-[128px] leading-[1.05] mb-3 xs:mb-4 sm:mb-6 md:mb-8 text-left">
                About Us
              </h1>
              <div class="max-w-[280px] xs:max-w-[320px] sm:max-w-[380px] md:max-w-[450px] lg:max-w-[500px] xl:max-w-[549px] space-y-2 xs:space-y-3 sm:space-y-4 md:space-y-6 text-[12px] xs:text-[14px] sm:text-[15px] md:text-[16px] lg:text-[18px] xl:text-[20px] leading-relaxed text-[#F0F1F2] text-left">
                <p>
                  Kelveneers (by Kelachandra Veneers) is one among Bengaluru's large companies for woodwork. We have more than four decades of expertise in woodwork with product supplies to more than 25,000 homes.
                </p>
                <p>
                  All our products are factory-made, factory-finished, and ready to install on-site. We use modern technology, innovation, and R&D to showcase the latest and best in woodwork.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide 2: Our Mission -->
      <div class="carousel-slide" data-slide="1">
        <div class="relative w-full h-full bg-[#351c24] flex items-center justify-center">
          <div class="text-white w-full px-4 xs:px-6 sm:px-8 md:px-12 lg:px-16 xl:px-20 flex flex-col justify-center min-h-full">
            <div class="w-full">
              <h1 class="font-[AcidGrotesk] font-light tracking-[0.01em] text-[32px] xs:text-[40px] sm:text-[60px] md:text-[80px] lg:text-[100px] xl:text-[128px] leading-[1.05] mb-3 xs:mb-4 sm:mb-6 md:mb-8 text-left">
                Our Mission
              </h1>
              <div class="max-w-[280px] xs:max-w-[320px] sm:max-w-[380px] md:max-w-[450px] lg:max-w-[500px] xl:max-w-[549px] space-y-2 xs:space-y-3 sm:space-y-4 md:space-y-6 text-[12px] xs:text-[14px] sm:text-[15px] md:text-[16px] lg:text-[18px] xl:text-[20px] leading-relaxed text-[#F0F1F2] text-left">
                <p>
                  To deliver premium timber solutions that enhance architectural beauty while maintaining our commitment to environmental responsibility and sustainable practices.
                </p>
                <p>
                  We strive to be the leading provider of innovative woodwork solutions, combining traditional craftsmanship with cutting-edge technology to exceed our customers' expectations.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide Indicators - Bottom Left -->
    <div class="absolute bottom-8 left-8 flex space-x-2">
      <button 
        class="carousel-indicator active w-3 h-3 rounded-full bg-white transition-all duration-300"
        data-slide="0"
        aria-label="Go to slide 1"
      ></button>
      <button 
        class="carousel-indicator w-3 h-3 rounded-full bg-gray-400 transition-all duration-300"
        data-slide="1"
        aria-label="Go to slide 2"
      ></button>
      <button 
        class="carousel-indicator w-3 h-3 rounded-full bg-gray-400 transition-all duration-300"
        data-slide="2"
        aria-label="Go to slide 3"
      ></button>
    </div>

    <!-- Next Button - Bottom Right -->
    <div class="absolute bottom-8 right-8">
      <button 
        id="nextBtn" 
        class="text-white hover:text-gray-300 transition-colors duration-300 flex items-center space-x-2"
        aria-label="Next slide"
      >
        <span class="text-sm font-medium uppercase">NEXT</span>
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- Right Image Section -->
  <div class="w-[250px] sm:w-[300px] md:w-[350px] lg:w-[400px] xl:w-[450px] h-full flex-shrink-0">
    <Image
      src={about2}
      alt="About Us Right Image"
      loading="eager"
      class="w-full h-full object-cover"
    />
  </div>
</section>

<style>
  .carousel-container {
    position: relative;
  }

  .carousel-slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    transition: opacity 0.8s ease-in-out;
  }

  .carousel-slide.active {
    opacity: 1;
  }

  .carousel-btn {
    transition: all 0.3s ease;
  }

  .carousel-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  }

  .carousel-indicator.active {
    background-color: white;
  }

  .carousel-indicator:not(.active) {
    background-color: #9ca3af; /* gray-400 */
  }

  /* Responsive adjustments */
  @media (max-width: 1024px) {
    .flex {
      flex-direction: column;
    }
    
    .w-\[400px\], .w-\[250px\] {
      width: 100%;
      height: 280px;
    }
    
    .flex-1 {
      height: calc(100vh - 560px);
    }
  }

  @media (max-width: 768px) {
    .w-\[400px\], .w-\[250px\] {
      height: 240px;
    }
    
    .flex-1 {
      height: calc(100vh - 480px);
    }
  }

  @media (max-width: 640px) {
    .w-\[400px\], .w-\[250px\] {
      height: 200px;
    }
    
    .flex-1 {
      height: calc(100vh - 400px);
    }
  }

  @media (max-width: 480px) {
    .w-\[400px\], .w-\[250px\] {
      height: 160px;
    }
    
    .flex-1 {
      height: calc(100vh - 320px);
    }
  }

  @media (max-width: 360px) {
    .w-\[400px\], .w-\[250px\] {
      height: 140px;
    }
    
    .flex-1 {
      height: calc(100vh - 280px);
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const slides = document.querySelectorAll('.carousel-slide');
    const indicators = document.querySelectorAll('.carousel-indicator');
    const nextBtn = document.getElementById('nextBtn');
    
    let currentSlide = 0;
    const totalSlides = slides.length;

    function showSlide(index) {
      // Remove active class from all slides and indicators
      slides.forEach(slide => slide.classList.remove('active'));
      indicators.forEach(indicator => indicator.classList.remove('active'));
      
      // Add active class to current slide and indicator
      slides[index].classList.add('active');
      indicators[index].classList.add('active');
      
      currentSlide = index;
    }

    function nextSlide() {
      const nextIndex = (currentSlide + 1) % totalSlides;
      showSlide(nextIndex);
    }

    // Event listeners
    nextBtn?.addEventListener('click', nextSlide);

    // Indicator click events
    indicators.forEach((indicator, index) => {
      indicator.addEventListener('click', () => showSlide(index));
    });

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight') {
        nextSlide();
      }
    });

    // Auto-play functionality (optional)
    let autoPlayInterval;
    
    function startAutoPlay() {
      autoPlayInterval = setInterval(nextSlide, 5000); // Change slide every 5 seconds
    }
    
    function stopAutoPlay() {
      clearInterval(autoPlayInterval);
    }

    // Start auto-play
    startAutoPlay();

    // Pause auto-play on hover
    const carouselContainer = document.querySelector('.carousel-container');
    carouselContainer?.addEventListener('mouseenter', stopAutoPlay);
    carouselContainer?.addEventListener('mouseleave', startAutoPlay);

    // Pause auto-play when user interacts with controls
    [nextBtn, ...indicators].forEach(element => {
      element?.addEventListener('click', () => {
        stopAutoPlay();
        setTimeout(startAutoPlay, 3000); // Resume after 3 seconds
      });
    });
  });
</script>
